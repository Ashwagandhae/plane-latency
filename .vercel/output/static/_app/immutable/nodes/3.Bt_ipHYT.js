import{s as E,c as M,n as S}from"../chunks/scheduler.Blb8VqW_.js";import{S as j,i as N,e as w,k as h,s as P,c as y,a as k,l as _,d as p,f as z,m as A,g as v,h as C,n as g,o as f,p as m,q as d,t as F,b as G,r as I,u as H,v as J,w as K}from"../chunks/index.DxqKmJX9.js";import{B as L,e as B,c as V,a as O,u as Q,s as R}from"../chunks/Button.CgdljVog.js";import{A as T,I as U,a as W}from"../chunks/ActivityView.Drtw3B3x.js";function q(s,l,r){const o=s.slice();return o[5]=l[r],o[7]=r,o}function X(s){let l,r,o;return l=new U({props:{name:"dots"}}),{c(){h(l.$$.fragment),r=F("random")},l(e){_(l.$$.fragment,e),r=G(e,"random")},m(e,c){g(l,e,c),v(e,r,c),o=!0},p:S,i(e){o||(f(l.$$.fragment,e),o=!0)},o(e){m(l.$$.fragment,e),o=!1},d(e){e&&p(r),d(l,e)}}}function D(s){var c;let l,r;function o(){return s[3](s[7])}function e(){return s[4](s[7])}return l=new W({props:{title:s[5].title,description:s[5].description,points:s[5].points,index:s[7],selected:s[0]===s[7],complete:((c=s[1])==null?void 0:c.challenges[s[7]].complete)??!1,completeActivity:o,uncompleteActivity:e}}),{c(){h(l.$$.fragment)},l(n){_(l.$$.fragment,n)},m(n,a){g(l,n,a),r=!0},p(n,a){var i;s=n;const t={};a&1&&(t.selected=s[0]===s[7]),a&2&&(t.complete=((i=s[1])==null?void 0:i.challenges[s[7]].complete)??!1),l.$set(t)},i(n){r||(f(l.$$.fragment,n),r=!0)},o(n){m(l.$$.fragment,n),r=!1},d(n){d(l,n)}}}function Y(s){let l,r,o=B(V),e=[];for(let n=0;n<o.length;n+=1)e[n]=D(q(s,o,n));const c=n=>m(e[n],1,1,()=>{e[n]=null});return{c(){for(let n=0;n<e.length;n+=1)e[n].c();l=I()},l(n){for(let a=0;a<e.length;a+=1)e[a].l(n);l=I()},m(n,a){for(let t=0;t<e.length;t+=1)e[t]&&e[t].m(n,a);v(n,l,a),r=!0},p(n,a){if(a&3){o=B(V);let t;for(t=0;t<o.length;t+=1){const i=q(n,o,t);e[t]?(e[t].p(i,a),f(e[t],1)):(e[t]=D(i),e[t].c(),f(e[t],1),e[t].m(l.parentNode,l))}for(H(),t=o.length;t<e.length;t+=1)c(t);J()}},i(n){if(!r){for(let a=0;a<o.length;a+=1)f(e[a]);r=!0}},o(n){e=e.filter(Boolean);for(let a=0;a<e.length;a+=1)m(e[a]);r=!1},d(n){n&&p(l),K(e,n)}}}function Z(s){let l,r,o,e,c,n;return o=new L({props:{$$slots:{default:[X]},$$scope:{ctx:s}}}),o.$on("click",s[2]),c=new T({props:{$$slots:{default:[Y]},$$scope:{ctx:s}}}),{c(){l=w("div"),r=w("div"),h(o.$$.fragment),e=P(),h(c.$$.fragment),this.h()},l(a){l=y(a,"DIV",{class:!0});var t=k(l);r=y(t,"DIV",{class:!0});var i=k(r);_(o.$$.fragment,i),i.forEach(p),e=z(t),_(c.$$.fragment,t),t.forEach(p),this.h()},h(){A(r,"class","bar"),A(l,"class","top svelte-9lh4wi")},m(a,t){v(a,l,t),C(l,r),g(o,r,null),C(l,e),g(c,l,null),n=!0},p(a,[t]){const i={};t&256&&(i.$$scope={dirty:t,ctx:a}),o.$set(i);const $={};t&259&&($.$$scope={dirty:t,ctx:a}),c.$set($)},i(a){n||(f(o.$$.fragment,a),f(c.$$.fragment,a),n=!0)},o(a){m(o.$$.fragment,a),m(c.$$.fragment,a),n=!1},d(a){a&&p(l),d(o),d(c)}}}function x(s,l,r){let o;M(s,R,t=>r(1,o=t));let e=null;function c(){if(o==null)return;let t=o.challenges,i=t.filter(u=>!u.complete).length;if(i===0){alert("All challenges are completed!");return}let $=Math.floor(Math.random()*i),b=0;for(let u=0;u<t.length;u++)if(!t[u].complete){if(b===$){r(0,e=u);break}b++}}return[e,o,c,t=>{O(t)},t=>{Q(t)}]}class ae extends j{constructor(l){super(),N(this,l,x,Z,E,{})}}export{ae as component};
